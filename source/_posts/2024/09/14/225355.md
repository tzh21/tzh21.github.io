---
title: Sync Gateway 配置中遇到的问题
date: 2024-09-14 22:53:57
tags:
---
## 创建文档时需要制定 channel

官方文档的 Create a New Document 部分的例子有错误。

```bash
DIGEST=`echo -n sgwuser1:password | base64`

curl  --location --request PUT 'http://localhost:4984/traveldb/hotel_88801' \
      --header "Authorization: Basic $DIGEST" \
      --header 'Content-Type: application/json' \
      --data-raw '{
          "_id": "hotel_88801",
          "id": "88801",
          "type": "hotel",
          "name": "Verify-Install Topic",
          "address": "The Shambles",
          "city": "Manchester",
          "country": "United Kingdom"
      }'
```

应该在请求体中加上 `"channels": ["public"]`。这样后面 GET 才能正常读取，否则会出现 `403 Forbidden`
